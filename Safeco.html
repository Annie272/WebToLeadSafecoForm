<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Safeco Web-to-Lead Form</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pikaday/css/pikaday.css">
  <script src="https://cdn.jsdelivr.net/npm/pikaday/pikaday.js"></script>
  <style>
    .hidden { display: none; }
    .error { border-color: #ef4444; }
    .error-message {
      color: #ef4444;
      font-size: 0.875rem;
      margin-top: 0.25rem;
    }
    .sf-date-field {
      color: #000 !important;
    }
    .sf-date-field::placeholder {
      color: #a0aec0 !important;
      opacity: 1;
    }
    .tooltip {
      position: relative;
      display: inline-block;
    }
    .tooltip .tooltiptext {
      visibility: hidden;
      width: 320px;
      background-color: #f9fafb;
      color: #1f2937;
      text-align: left;
      border-radius: 6px;
      padding: 10px;
      border: 1px solid #d1d5db;
      position: absolute;
      z-index: 10;
      bottom: 125%;
      left: 50%;
      margin-left: -160px;
      font-size: 0.85rem;
      line-height: 1.3;
      box-shadow: 0 2px 6px rgb(0 0 0 / 0.15);
    }
    .tooltip:hover .tooltiptext,
    .tooltip:focus-within .tooltiptext {
      visibility: visible;
    }

   .location-section > .location-label {
  border-bottom: 1px solid #d3d3d3;
  padding-bottom: 8px;
  margin-bottom: 16px;
}




  </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-6">
  <form
    action="https://test.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8&amp;orgId=00DU7000006EuID"
    method="POST"
    class="bg-white p-8 rounded-2xl shadow-md w-full max-w-xl space-y-6"
    id="mainForm"
    autocomplete="off"
  >
    <h2 class="text-2xl font-bold text-center text-gray-800">Safeco Form</h2>
    <!-- Hidden Fields -->
    <input type="hidden" name="oid" value="00DU7000006EuID" />
    <input type="hidden" name="recordType" value="012U7000003Ie25IAC" />
    <input type="hidden" name="retURL" value="https://bennettandporter.com/" />
    <input type="hidden" name="first_name" value="UpdateAddress" />
    <input type="hidden" name="last_name" value="Lead" />
    <input type="hidden" name="status" value="New" />
    <input type="hidden" name="phone" value="2367236712" />
    <input type="hidden" name="lead_source" value="Web Form" />
    <input type="hidden" name="company" value="Caelius Test Safeco New" />
   <!-- <input type="hidden" name="debug" value=1>                              
<input type="hidden" name="debugEmail" value="annie.rawal@caeliusconsulting.com"> -->


    <!-- Policy Changes Section (email, request type, policy action) -->
    <section class="bg-gray-50 border rounded-xl p-6 shadow-inner" aria-label="Policy Changes Section">
      <h3 class="text-xl font-semibold mb-4 text-gray-700">Policy Changes</h3>
      <div class="mb-4">
        <label for="email" class="block text-sm font-medium text-gray-700">
          Email<span class="text-red-600">*</span>
        </label>
        <input
          type="email" id="email" name="email"
          class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
          autocomplete="off"
          required
        />
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Select the Request Type:<span class="text-red-600">*</span></label>
        <div class="flex space-x-4 mb-2">
          <label class="inline-flex items-center ">
            <input type="radio" name="00NU7000006IOzh" value="Y" required class="mr-2 " />Quote
          </label>
          <label class="inline-flex items-center">
            <input type="radio" name="00NU7000006IOzh" value="N" required class="mr-2" />Endorsement
          </label>
        </div>
        <div id="quotePolicyError" class="error-message hidden ">Please select an option</div>
      </div>
    <!--  <div>
        <label for="policyAction" class="block text-sm font-medium text-gray-700 mt-4 ">Policy Action</label>
        <select id="00NU7000005zuNN" name="00NU7000005zuNN" required class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm mb-2">
          <option value="">--None--</option>
          <option value="Replace Vehicle">Replace Vehicle</option>
          <option value="Add Vehicle">Add Vehicle</option>
          <option value="Remove Vehicle">Remove Vehicle</option>
          <option value="Add Driver">Add Driver</option>
          <option value="Remove Driver">Remove Driver</option>
          <option value="Update Address">Update Address</option>
        </select>
        <div id="policyActionError" class="error-message hidden">Please select a policy action</div>
      </div>
      -->
      <!-- Moved fields: Policy Number, Line of Business, Effective Date -->
      <div class = "space-y-4 mt-2">
        <div>
          <label for="00NU7000005zuX3" class="block text-sm font-medium text-gray-700">Policy Number<span class="text-red-600">*</span></label>
          <input
            type="text"
            id="00NU7000005zuX3"
            name="00NU7000005zuX3"
            required
            pattern="Y\d{7}"
            maxlength="8"
            minlength="8"
            class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm"
            title="Policy Number must start with 'Y' and be 8 characters total (e.g., Y1234567)"
          />
          <div id="policyNumberError" class="error-message hidden">Policy Number must start with 'Y' and be 8 digits total (e.g., Y1234567).</div>
        </div>
        <!--
        <div>
          <label for="00NU7000006Hi7d" class="block text-sm font-medium text-gray-700">Line of Business</label>
          <select id="00NU7000006Hi7d" name="00NU7000006Hi7d" required class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm">
            <option value="">--None--</option>
            <option value="Auto (includes motorhome, trailer &amp; antique or classic)">Auto</option>
            <option value="Home">Home</option>
            <option value="Fire">Fire</option>
            <option value="Motorcycle">Motorcycle</option>
            <option value="Off-Road Rec Vehicle">Off-Road Rec Vehicle</option>
            <option value="Umbrella">Umbrella</option>
            <option value="Watercraft">Watercraft</option>
          </select>
        </div>
        -->
        <div>
          <label for="00NU7000005zuLl" class="block text-sm font-medium text-gray-700">Effective Date<span class="text-red-600">*</span></label>
          <input 
            type="text" 
            id="00NU7000005zuLl" 
            name="00NU7000005zuLl"
            placeholder="MM/DD/YYYY"
            autocomplete="off"
            required
            class="mt-1 w-full p-2 border border-gray-700 rounded-lg shadow-sm sf-date-field" />
          <div id="00NU7000005zuLl_error" class="error-message hidden">Enter a valid MM/DD/YYYY date.</div>
        </div>
      </div>
      <div class="mb-5">
  <label class="hidden">Show Sections:</label>

  <div class="space-y-3 mt-8">
  <label class="block">
    <input type="checkbox" id="showMailing" class="mr-2" />
    Mailing Address Information
  </label>
  <label class="block">
    <input type="checkbox" id="showPhone" class="mr-2" />
    Phone / Email
  </label>
  <label class="block">
    <input type="checkbox" id="showGarage" class="mr-2" />
    Garage Locations
  </label>
</div>
</div>


    </section>
    <!-- Driver Details Section (Only First/Last/Middle name) -->
     <div id="mailingSection">

    <section class="bg-gray-50 border rounded-xl p-6 shadow-inner" aria-label="Mailing Address Information">
      <h3 class="text-xl font-semibold mb-4 text-gray-700">
Mailing Address Information</h3>
      
          <div class="mb-2">
            <label for="00NU7000006YRFF" class="block text-sm font-medium text-gray-700 mb-1">Address Line 1<span class="text-red-600">*</span></label>
            <input type="text" id="00NU7000006YRFF" name="00NU7000006YRFF"  required class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
          </div>

          <div class="mb-2">
            <label for="00NU7000006YTXB" class="block text-sm font-medium text-gray-700 mb-1">Address Line 2</label>
            <input type="text" id="00NU7000006YTXB" name="00NU7000006YTXB"  class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
          </div>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="mb-4">
            <label for="00NU7000005zw7R" class="block text-sm font-medium text-gray-700 mb-1">Zip Code<span class="text-red-600">*</span></label>
            <input type="text" id="00NU7000005zw7R" name="00NU7000005zw7R" required class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
          </div>

         
          <div class="mb-4">
            <label for="00NU7000005zvUj" class="block text-sm font-medium text-gray-700 mb-1">City<span class="text-red-600">*</span></label>
            <input type="text" id="00NU7000005zvUj" name="00NU7000005zvUj" required class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
          </div>
      <div mb-4>
            <label for="00NU7000005zvWL" class="block text-sm font-medium text-gray-700 mb-1">State<span class="text-red-600">*</span></label>
            <select id="00NU7000005zvWL" name="00NU7000005zvWL" required class="w-full p-2 border border-gray-300 rounded-lg mb-2">
              <option value="">--None--</option>
              <!-- all states options here as before -->
              <option value="Arizona">Arizona</option>
              
            <option value="Alabama">Alabama</option>
            <option value="Alaska">Alaska</option>
            <option value="Alberta">Alberta</option>
            </select>
       </div>

    </section>
    </div>

    <div id="phoneSection">
 <section class="bg-gray-50 border rounded-xl p-6 shadow-inner" aria-label="Phone / Email">
      <h3 class="text-xl font-semibold mb-4 text-gray-700">Phone / Email</h3>
      <div class="space-y-4">
    

        <div >
          <label for="00N4x00000QCvmg" class="block text-sm font-medium text-gray-700 mb-1">Primary Phone Number</label>
          <input type="tel" id="00N4x00000QCvmg" name="00N4x00000QCvmg" pattern="[0-9]{10}"  class="w-full p-2 border border-gray-300 rounded-lg" />
        </div>


        <div>
          <label for="00NU7000006Xogv" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
          <input type="email" id="00NU7000006Xogv" name="00NU7000006Xogv"  class="w-full p-2 border border-gray-300 rounded-lg" />
        </div>
        </div>
 </section>
</div>

<div id="garageSection">
  <section class="bg-gray-50 border rounded-xl p-6 shadow-inner">
    <h3 class="text-xl font-semibold mb-4 text-gray-700">Garaged Locations</h3>

    <div id="location1" class="location-section">
      <h4 class="location-label text-lg font-normal mb-4 text-gray-600">Location 1</h4>
      <div class="mb-2">
      <label for="addressLine1" class="block text-sm font-semibold mb-1">Address Line 1 <span class="text-red-600">*</span></label>
      <input type="text" name="addressLine1" id="addressLine1" required class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
    </div>

    <div class="mb-2">
      <label for="addressLine2" class="block text-sm font-semibold mb-1">Address Line 2</label>
      <input type="text" name="addressLine2" id="addressLine2" class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div>
        <label for="zipCode" class="block text-sm font-semibold mb-1">ZIP Code <span class="text-red-600">*</span></label>
        <input type="text" name="zipCode" id="zipCode" required class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
      </div>

      <div>
        <label for="city" class="block text-sm font-semibold mb-1">City <span class="text-red-600">*</span></label>
        <input type="text" name="city" id="city" required class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
      </div>

      <div>
        <label for="state" class="block text-sm font-semibold mb-1">State <span class="text-red-600">*</span></label>
        <select name="state" id="state" required class="w-full p-2 border border-gray-300 rounded-lg mb-2">
          <option value="">--None--</option>
          <option>Arizona</option>
          <option>Alabama</option>
          <option>Alaska</option>
          <option>Alberta</option>
          <!-- Add all other states -->
           
        </select>
      </div>
    </div>
    <hr class="border-t border-gray-300 my-4" />
    </div>

    <div id="location2" class="location-section hidden">
      <h4 class="location-label text-lg font-normal mb-4 text-gray-600">Location 2</h4>
      <div class="mb-2">
      <label for="addressLine12" class="block text-sm font-semibold mb-1">Address Line 1 <span class="text-red-600">*</span></label>
      <input type="text" name="addressLine12" id="addressLine12" required class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
    </div>

    <div class="mb-2">
      <label for="addressLine22" class="block text-sm font-semibold mb-1">Address Line 2</label>
      <input type="text" name="addressLine22" id="addressLine22" class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div>
        <label for="zipCode2" class="block text-sm font-semibold mb-1">ZIP Code <span class="text-red-600">*</span></label>
        <input type="text" name="zipCode2" id="zipCode2" required class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
      </div>

      <div>
        <label for="city2" class="block text-sm font-semibold mb-1">City <span class="text-red-600">*</span></label>
        <input type="text" name="city2" id="city2" required class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
      </div>

      <div>
        <label for="state2" class="block text-sm font-semibold mb-1">State <span class="text-red-600">*</span></label>
        <select name="state2" id="state2" required class="w-full p-2 border border-gray-300 rounded-lg mb-2">
          <option value="">--None--</option>
          <option>Arizona</option>
          <option>Alabama</option>
          <option>Alaska</option>
          <option>Alberta</option>
          <!-- Add all other states -->
        </select>
      </div>
    </div>
    <hr class="border-t border-gray-300 my-4" />
    </div>

    <div id="location3" class="location-section hidden">
      <h4 class="location-label text-lg font-normal mb-4 text-gray-600">Location 3</h4>
      <div class="mb-2">
      <label for="addressLine13" class="block text-sm font-semibold mb-1">Address Line 1 <span class="text-red-600">*</span></label>
      <input type="text" name="addressLine13" id="addressLine13" required class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
    </div>

    <div class="mb-2">
      <label for="addressLine23" class="block text-sm font-semibold mb-1">Address Line 2</label>
      <input type="text" name="addressLine23" id="addressLine23" class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div>
        <label for="zipCode3" class="block text-sm font-semibold mb-1">ZIP Code <span class="text-red-600">*</span></label>
        <input type="text" name="zipCode3" id="zipCode3" required class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
      </div>

      <div>
        <label for="city3" class="block text-sm font-semibold mb-1">City <span class="text-red-600">*</span></label>
        <input type="text" name="city3" id="city3" required class="w-full p-2 border border-gray-300 rounded-lg mb-2" />
      </div>

      <div>
        <label for="state3" class="block text-sm font-semibold mb-1">State <span class="text-red-600">*</span></label>
        <select name="state3" id="state3" required class="w-full p-2 border border-gray-300 rounded-lg mb-2">
          <option value="">--None--</option>
          <option>Arizona</option>
          <option>Alabama</option>
          <option>Alaska</option>
          <option>Alberta</option>
          <!-- Add all other states -->
        </select>
      </div>
    </div>
    <hr class="border-t border-gray-300 my-4" />
</div>
    <button 
      id="addGarageLocationBtn" 
      type="button"
      class="bg-teal-700 hover:bg-teal-700 text-white px-5 py-2 rounded-lg flex items-center gap-2 mt-4 shadow"
    >
      <span class="text-lg font-bold">+</span>
      <span>Add a New Item</span>
    </button>
  </section>
</div>


    <div class="pt-4">
      <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg shadow">
        Submit
      </button>
    </div>



    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // MM/DD/YYYY Pikaday Setup & Validation for Effective Date only
        function parseMMDDYYYY(s) {
          if (!/^(\d{2})\/(\d{2})\/(\d{4})$/.test(s)) return null;
          const [m, d, y] = s.split('/').map(Number);
          if (m < 1 || m > 12 || d < 1 || d > 31) return null;
          const date = new Date(y, m - 1, d);
          if (date.getMonth() !== m - 1 || date.getDate() !== d || date.getFullYear() !== y) return null;
          return date;
        }
        document.querySelectorAll('.sf-date-field').forEach(function(field) {
          new Pikaday({
            field: field,
            format: 'MM/DD/YYYY',
            onSelect: function(date) {
              if (date) {
                field.value = ("0" + (date.getMonth()+1)).slice(-2) + "/" +
                              ("0" + date.getDate()).slice(-2) + "/" + date.getFullYear();
                showDateError(field, false);
              }
            }
          });
          field.addEventListener('input', function() {
            const valid = !field.value || parseMMDDYYYY(field.value);
            showDateError(field, !valid);
            field.setCustomValidity(valid ? "" : "Invalid date format (MM/DD/YYYY)");
          });
          field.addEventListener('blur', function() {
            const valid = !field.value || parseMMDDYYYY(field.value);
            showDateError(field, !valid);
            field.setCustomValidity(valid ? "" : "Invalid date format (MM/DD/YYYY)");
          });
        });
        function showDateError(field, show) {
          const errorDiv = document.getElementById(field.id + "_error");
          if(errorDiv) errorDiv.classList.toggle("hidden", !show);
          field.classList.toggle("error", show);
        }
        // Policy Number Live Validation
        const policyNumberInput = document.getElementById("00NU7000005zuX3");
        const policyNumberError = document.getElementById("policyNumberError");
        function validatePolicyNumberField() {
          const val = policyNumberInput.value.trim();
          const valid = /^Y\d{7}$/.test(val);
          policyNumberInput.classList.toggle("error", !valid && val.length > 0);
          policyNumberError.classList.toggle("hidden", valid || val.length === 0);
          policyNumberInput.setCustomValidity(valid || val.length === 0 ? "" : "Policy Number must start with 'Y' and be 8 characters (e.g., Y1234567)");
        }
        policyNumberInput.addEventListener("input", validatePolicyNumberField);
        policyNumberInput.addEventListener("blur", validatePolicyNumberField);
        const form = document.getElementById("mainForm");
        form?.addEventListener("submit", function (e) {
          validatePolicyNumberField();
          // Validate Effective Date
          const effDate = document.getElementById("00NU7000005zuLl");
          if (effDate && !parseMMDDYYYY(effDate.value)) {
            showDateError(effDate, true);
            effDate.setCustomValidity("Invalid date format (MM/DD/YYYY)");
            effDate.focus();
            e.preventDefault();
            return;
          }
          // native validation
          const invalid = form.querySelector(":invalid");
          if (invalid) {
            e.preventDefault();
            invalid.scrollIntoView({ behavior: "smooth", block: "center" });
            invalid.focus();
          }
        });
        validatePolicyNumberField();

function toggleSection(checkboxId, sectionId) {
    const checked = document.getElementById(checkboxId)?.checked;
    const section = document.getElementById(sectionId);
    if (section) section.style.display = checked ? "block" : "none";
  }

  // Initialize toggling on checkbox change for mailing, phone, garage sections
  ["showMailing", "showPhone", "showGarage"].forEach((checkboxId) => {
    const sectionId =
      checkboxId === "showMailing"
        ? "mailingSection"
        : checkboxId === "showPhone"
        ? "phoneSection"
        : checkboxId === "showGarage"
        ? "garageSection"
        : null;

    document.getElementById(checkboxId)?.addEventListener("change", () => {
      if (sectionId) toggleSection(checkboxId, sectionId);
    });

    // Initialize visibility based on checkbox state
    if (sectionId) toggleSection(checkboxId, sectionId);
  });

  // Garage Locations Show More Logic
  let visibleLocationCount = 1;
  const maxLocations = 3;

  // Show only location 1, hide others on page load
  for (let i = 1; i <= maxLocations; i++) {
    const locDiv = document.getElementById(`location${i}`);
    if (locDiv) locDiv.classList.toggle("hidden", i !== 1);
  }

  // Setup Add button click handler
  const addBtn = document.getElementById("addGarageLocationBtn");
  if (addBtn) {
    addBtn.addEventListener("click", () => {
      if (visibleLocationCount < maxLocations) {
        visibleLocationCount++;
        const locDiv = document.getElementById(`location${visibleLocationCount}`);
        if (locDiv) locDiv.classList.remove("hidden");

        if (visibleLocationCount === maxLocations) {
          addBtn.disabled = true;
          addBtn.classList.add("opacity-50", "cursor-not-allowed");
        }
      }
    });
  }
});




      
    </script>
  </form>
</body>
</html>
